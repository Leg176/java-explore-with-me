{
	"info": {
		"_postman_id": "1b77645a-d148-4ac3-a206-6aa2d724da31",
		"name": "Comments Full Tests",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json",
		"_exporter_id": "46967030"
	},
	"item": [
		{
			"name": "PUBLIC API (/comments)",
			"item": [
				{
					"name": "–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const api = new API(pm);\r",
									"const rnd = new RandomUtils();\r",
									"\r",
									"(async () => {\r",
									"    try {\r",
									"        const author = await api.addUser(rnd.getUser());\r",
									"        const category = await api.addCategory(rnd.getCategory());\r",
									"        let event = await api.addEvent(author.id, rnd.getEvent(category.id));\r",
									"        event = await api.publishEvent(event.id);\r",
									"        \r",
									"        const commentData = {\r",
									"            name: \"Valid User Name\",\r",
									"            email: \"valid@email.com\",\r",
									"            description: \"This is a valid comment with more than 20 characters for anonymous user.\",\r",
									"            eventId: event.id\r",
									"        };\r",
									"        \r",
									"        pm.request.body.update({\r",
									"            mode: 'raw',\r",
									"            raw: JSON.stringify(commentData),\r",
									"            options: { raw: { language: 'json' } }\r",
									"        });\r",
									"        \r",
									"        pm.collectionVariables.set('pubEventId', event.id);\r",
									"        \r",
									"    } catch(err) {\r",
									"        console.error(\"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö:\", err);\r",
									"        pm.collectionVariables.set('preRequestError', true);\r",
									"    }\r",
									"    \r",
									"    if (typeof done === 'function') {\r",
									"        done();\r",
									"    }\r",
									"})();"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"–°—Ç–∞—Ç—É—Å –æ—Ç–≤–µ—Ç–∞ 201\", function() {\r",
									"    pm.response.to.have.status(201);\r",
									"});\r",
									"\r",
									"pm.test(\"–û—Ç–≤–µ—Ç –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON\", function() {\r",
									"    pm.response.to.be.json;\r",
									"});\r",
									"\r",
									"pm.test(\"–¢–µ–ª–æ –æ—Ç–≤–µ—Ç–∞ –Ω–µ –ø—É—Å—Ç–æ–µ\", function() {\r",
									"    pm.expect(pm.response.text()).to.not.be.empty;\r",
									"});\r",
									"\r",
									"var responseBody;\r",
									"try {\r",
									"    responseBody = pm.response.json();\r",
									"} catch(e) {\r",
									"    pm.expect.fail(\"–û—Ç–≤–µ—Ç –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –≤–∞–ª–∏–¥–Ω—ã–º JSON: \" + e.message);\r",
									"}\r",
									"\r",
									"if (responseBody) {\r",
									"    pm.test(\"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å–æ–¥–µ—Ä–∂–∏—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è\", function() {\r",
									"        pm.expect(responseBody).to.be.an('object');\r",
									"        pm.expect(responseBody).to.have.all.keys(['id', 'description', 'name', 'created']);\r",
									"    });\r",
									"    \r",
									"    pm.test(\"–î–ª–∏–Ω–∞ –æ–ø–∏—Å–∞–Ω–∏—è –Ω–µ –º–µ–Ω–µ–µ 20 —Å–∏–º–≤–æ–ª–æ–≤\", function() {\r",
									"        pm.expect(responseBody.description).to.have.lengthOf.at.least(20);\r",
									"    });\r",
									"    \r",
									"    pm.test(\"–î–ª–∏–Ω–∞ –∏–º–µ–Ω–∏ –Ω–µ –º–µ–Ω–µ–µ 2 —Å–∏–º–≤–æ–ª–æ–≤\", function() {\r",
									"        pm.expect(responseBody.name).to.have.lengthOf.at.least(2);\r",
									"    });\r",
									"    \r",
									"    pm.test(\"–§–æ—Ä–º–∞—Ç –¥–∞—Ç—ã –∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π\", function() {\r",
									"        const dateRegex = /^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$/;\r",
									"        pm.expect(responseBody.created).to.match(dateRegex);\r",
									"    });\r",
									"    \r",
									"    if (responseBody.id) {\r",
									"        pm.collectionVariables.set('publicCommentId', responseBody.id);\r",
									"    }\r",
									"}"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"name\": \"Valid Name\",\r\n    \"email\": \"valid@email.com\",\r\n    \"description\": \"Valid description with at least 20 characters\",\r\n    \"eventId\": 1\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/comments",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"comments"
							]
						},
						"description": "POST /comments - —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –Ω–µ–∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º"
					},
					"response": []
				},
				{
					"name": "–ü–æ–ª—É—á–µ–Ω–∏–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –ø–æ ID",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const main = async () => {\r",
									"    const api = new API(pm);\r",
									"    const rnd = new RandomUtils();\r",
									"\r",
									"    try {\r",
									"        const author = await api.addUser(rnd.getUser());\r",
									"        const category = await api.addCategory(rnd.getCategory());\r",
									"        let event = await api.addEvent(author.id, rnd.getEvent(category.id));\r",
									"        event = await api.publishEvent(event.id);\r",
									"        \r",
									"        const commentData = {\r",
									"            name: \"Test User\",\r",
									"            email: \"test@example.com\",\r",
									"            description: \"Valid comment with more than twenty characters for testing.\",\r",
									"            eventId: event.id\r",
									"        };\r",
									"        \r",
									"        const createRequest = {\r",
									"            url: pm.variables.get('baseUrl') + '/comments',\r",
									"            method: 'POST',\r",
									"            header: { 'Content-Type': 'application/json' },\r",
									"            body: JSON.stringify(commentData)\r",
									"        };\r",
									"        \r",
									"        const createResponse = await new Promise((resolve, reject) => {\r",
									"            pm.sendRequest(createRequest, (err, res) => {\r",
									"                if (err) reject(err);\r",
									"                else resolve(res);\r",
									"            });\r",
									"        });\r",
									"        \r",
									"        const createdComment = createResponse.json();\r",
									"        const commentId = createdComment.id;\r",
									"        \r",
									"        const publishRequest = {\r",
									"            url: pm.variables.get('baseUrl') + '/admin/comments/' + commentId + '?state=PUBLISHED',\r",
									"            method: 'PATCH',\r",
									"            header: { 'Content-Type': 'application/json' }\r",
									"        };\r",
									"        \r",
									"        await new Promise((resolve, reject) => {\r",
									"            pm.sendRequest(publishRequest, (err, res) => {\r",
									"                if (err) {\r",
									"                    console.error(\"–û—à–∏–±–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏:\", err.message);\r",
									"                    // –ï—Å–ª–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏—è –Ω–µ —É–¥–∞–ª–∞—Å—å (–∏–∑-–∑–∞ @NotBlank), \r",
									"                    // –≤—Å–µ —Ä–∞–≤–Ω–æ –ø—Ä–æ–¥–æ–ª–∂–∞–µ–º —Ç–µ—Å—Ç - –≤–æ–∑–º–æ–∂–Ω–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —É–∂–µ –¥–æ—Å—Ç—É–ø–µ–Ω\r",
									"                }\r",
									"                resolve();\r",
									"            });\r",
									"        });\r",
									"        \r",
									"        pm.variables.set('pubCommentId', commentId);\r",
									"        console.log(\"–°–æ–∑–¥–∞–Ω –∏ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π ID:\", commentId);\r",
									"        \r",
									"    } catch(err) {\r",
									"        console.error(\"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö:\", err);\r",
									"        pm.variables.set('pubCommentId', 1);\r",
									"    }\r",
									"};\r",
									"\r",
									"const interval = setInterval(() => {}, 1000);\r",
									"setTimeout(async () => {\r",
									"    try {\r",
									"        await main();\r",
									"    } catch (e) {\r",
									"        console.error(e);\r",
									"    } finally {\r",
									"        clearInterval(interval);\r",
									"    }\r",
									"}, 100);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"–û–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –¥–æ–ª–∂–µ–Ω –≤–æ–∑–≤—Ä–∞—â–∞—Ç—å —Å—Ç–∞—Ç—É—Å 200\", function () {\r",
									"    pm.response.to.have.status(200);   \r",
									"    pm.response.to.be.withBody;\r",
									"    pm.response.to.be.json;\r",
									"});\r",
									"\r",
									"var responseBody = pm.response.json();\r",
									"pm.test(\"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è CommentDto\", function () {\r",
									"    pm.expect(responseBody).to.have.property('id');\r",
									"    pm.expect(responseBody.id).to.equal(parseInt(pm.variables.get('pubCommentId')));\r",
									"    pm.expect(responseBody).to.have.property('description');\r",
									"    pm.expect(responseBody.description.length).to.be.at.least(20);\r",
									"    pm.expect(responseBody).to.have.property('name');\r",
									"    pm.expect(responseBody.name.length).to.be.at.least(2);\r",
									"    pm.expect(responseBody).to.have.property('created');\r",
									"    pm.expect(responseBody).to.have.property('updated');\r",
									"});\r",
									"\r",
									"pm.test(\"–ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ CommentDto\", function () {\r",
									"    pm.expect(responseBody).to.not.have.property('eventId');\r",
									"    pm.expect(responseBody).to.not.have.property('user');\r",
									"    pm.expect(responseBody).to.not.have.property('email');\r",
									"    pm.expect(responseBody).to.not.have.property('status');\r",
									"    pm.expect(responseBody).to.not.have.property('authorId');\r",
									"});\r",
									"\r",
									"pm.test(\"–§–æ—Ä–º–∞—Ç –¥–∞—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å YYYY-MM-DD HH:mm:ss\", function () {\r",
									"    const dateRegex = /^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$/;\r",
									"    pm.expect(responseBody.created).to.match(dateRegex);\r",
									"    pm.expect(responseBody.updated).to.match(dateRegex);\r",
									"});\r",
									"\r",
									"pm.test(\"–î–∞—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∞–ª–∏–¥–Ω—ã–º–∏\", function () {\r",
									"    const createdDate = new Date(responseBody.created.replace(' ', 'T') + 'Z');\r",
									"    const updatedDate = new Date(responseBody.updated.replace(' ', 'T') + 'Z');\r",
									"    \r",
									"    pm.expect(createdDate.toString()).to.not.equal('Invalid Date');\r",
									"    pm.expect(updatedDate.toString()).to.not.equal('Invalid Date');\r",
									"});\r",
									"\r",
									"pm.test(\"–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –Ω–µ –¥–æ–ª–∂–Ω–∞ –±—ã—Ç—å —Ä–∞–Ω—å—à–µ –¥–∞—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è\", function () {\r",
									"    const createdDate = new Date(responseBody.created.replace(' ', 'T') + 'Z');\r",
									"    const updatedDate = new Date(responseBody.updated.replace(' ', 'T') + 'Z');\r",
									"    \r",
									"    pm.expect(updatedDate.getTime()).to.be.at.least(createdDate.getTime());\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/comments/:commentId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"comments",
								":commentId"
							],
							"variable": [
								{
									"key": "commentId",
									"value": "{{pubCommentId}}"
								}
							]
						},
						"description": "GET /comments/{commentId} - –ø–æ–ª—É—á–µ–Ω–∏–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω–æ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è"
					},
					"response": []
				},
				{
					"name": "–ü–æ–ª—É—á–µ–Ω–∏–µ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã—Ö –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ —Å–æ–±—ã—Ç–∏—è",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const main = async () => {\r",
									"    const api = new API(pm);\r",
									"    const rnd = new RandomUtils();\r",
									"\r",
									"    try {\r",
									"        // 1. –°–æ–∑–¥–∞–µ–º –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ\r",
									"        const author = await api.addUser(rnd.getUser());\r",
									"        const category = await api.addCategory(rnd.getCategory());\r",
									"        let event = await api.addEvent(author.id, rnd.getEvent(category.id));\r",
									"        event = await api.publishEvent(event.id);\r",
									"        \r",
									"        console.log(\"–°–æ–∑–¥–∞–Ω–æ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω–æ–µ —Å–æ–±—ã—Ç–∏–µ ID:\", event.id);\r",
									"        \r",
									"        // 2. –°–æ—Ö—Ä–∞–Ω—è–µ–º ID —Å–æ–±—ã—Ç–∏—è\r",
									"        pm.variables.set('eventIdForComments', event.id);\r",
									"        \r",
									"        // 3. –°–æ–∑–¥–∞–µ–º –∏ —Å—Ä–∞–∑—É –ø—É–±–ª–∏–∫—É–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏\r",
									"        const createdCommentIds = [];\r",
									"        \r",
									"        // –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π 1\r",
									"        const commentData1 = {\r",
									"            name: \"User One\",\r",
									"            email: \"user1@example.com\",\r",
									"            description: \"First comment with more than twenty characters for the event.\",\r",
									"            eventId: event.id\r",
									"        };\r",
									"        \r",
									"        const createResponse1 = await new Promise((resolve, reject) => {\r",
									"            pm.sendRequest({\r",
									"                url: pm.variables.get('baseUrl') + '/comments',\r",
									"                method: 'POST',\r",
									"                header: { 'Content-Type': 'application/json' },\r",
									"                body: JSON.stringify(commentData1)\r",
									"            }, (err, res) => err ? reject(err) : resolve(res));\r",
									"        });\r",
									"        \r",
									"        const comment1 = createResponse1.json();\r",
									"        createdCommentIds.push(comment1.id);\r",
									"        console.log(\"–°–æ–∑–¥–∞–Ω –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π 1 ID:\", comment1.id);\r",
									"        \r",
									"        // –ü—É–±–ª–∏–∫—É–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π 1\r",
									"        await new Promise((resolve, reject) => {\r",
									"            pm.sendRequest({\r",
									"                url: pm.variables.get('baseUrl') + '/admin/comments/' + comment1.id + '?state=PUBLISHED',\r",
									"                method: 'PATCH',\r",
									"                header: { 'Content-Type': 'application/json' }\r",
									"            }, (err, res) => {\r",
									"                if (err) {\r",
									"                    console.error(\"–û—à–∏–±–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è 1:\", err);\r",
									"                    reject(err);\r",
									"                } else {\r",
									"                    console.log(\"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π 1 –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω, —Å—Ç–∞—Ç—É—Å:\", res.status);\r",
									"                    resolve(res);\r",
									"                }\r",
									"            });\r",
									"        });\r",
									"        \r",
									"        // –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π 2\r",
									"        const commentData2 = {\r",
									"            name: \"User Two\",\r",
									"            email: \"user2@example.com\",\r",
									"            description: \"Second valid comment with more than twenty characters.\",\r",
									"            eventId: event.id\r",
									"        };\r",
									"        \r",
									"        const createResponse2 = await new Promise((resolve, reject) => {\r",
									"            pm.sendRequest({\r",
									"                url: pm.variables.get('baseUrl') + '/comments',\r",
									"                method: 'POST',\r",
									"                header: { 'Content-Type': 'application/json' },\r",
									"                body: JSON.stringify(commentData2)\r",
									"            }, (err, res) => err ? reject(err) : resolve(res));\r",
									"        });\r",
									"        \r",
									"        const comment2 = createResponse2.json();\r",
									"        createdCommentIds.push(comment2.id);\r",
									"        console.log(\"–°–æ–∑–¥–∞–Ω –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π 2 ID:\", comment2.id);\r",
									"        \r",
									"        // –ü—É–±–ª–∏–∫—É–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π 2\r",
									"        await new Promise((resolve, reject) => {\r",
									"            pm.sendRequest({\r",
									"                url: pm.variables.get('baseUrl') + '/admin/comments/' + comment2.id + '?state=PUBLISHED',\r",
									"                method: 'PATCH',\r",
									"                header: { 'Content-Type': 'application/json' }\r",
									"            }, (err, res) => {\r",
									"                if (err) {\r",
									"                    console.error(\"–û—à–∏–±–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è 2:\", err);\r",
									"                    reject(err);\r",
									"                } else {\r",
									"                    console.log(\"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π 2 –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω, —Å—Ç–∞—Ç—É—Å:\", res.status);\r",
									"                    resolve(res);\r",
									"                }\r",
									"            });\r",
									"        });\r",
									"        \r",
									"        // –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π 3\r",
									"        const commentData3 = {\r",
									"            name: \"User Three\",\r",
									"            email: \"user3@example.com\",\r",
									"            description: \"Third test comment with more than required length.\",\r",
									"            eventId: event.id\r",
									"        };\r",
									"        \r",
									"        const createResponse3 = await new Promise((resolve, reject) => {\r",
									"            pm.sendRequest({\r",
									"                url: pm.variables.get('baseUrl') + '/comments',\r",
									"                method: 'POST',\r",
									"                header: { 'Content-Type': 'application/json' },\r",
									"                body: JSON.stringify(commentData3)\r",
									"            }, (err, res) => err ? reject(err) : resolve(res));\r",
									"        });\r",
									"        \r",
									"        const comment3 = createResponse3.json();\r",
									"        createdCommentIds.push(comment3.id);\r",
									"        console.log(\"–°–æ–∑–¥–∞–Ω –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π 3 ID:\", comment3.id);\r",
									"        \r",
									"        // –ü—É–±–ª–∏–∫—É–µ–º –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π 3\r",
									"        await new Promise((resolve, reject) => {\r",
									"            pm.sendRequest({\r",
									"                url: pm.variables.get('baseUrl') + '/admin/comments/' + comment3.id + '?state=PUBLISHED',\r",
									"                method: 'PATCH',\r",
									"                header: { 'Content-Type': 'application/json' }\r",
									"            }, (err, res) => {\r",
									"                if (err) {\r",
									"                    console.error(\"–û—à–∏–±–∫–∞ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è 3:\", err);\r",
									"                    reject(err);\r",
									"                } else {\r",
									"                    console.log(\"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π 3 –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω, —Å—Ç–∞—Ç—É—Å:\", res.status);\r",
									"                    resolve(res);\r",
									"                }\r",
									"            });\r",
									"        });\r",
									"        \r",
									"        console.log(\"–í—Å–µ–≥–æ —Å–æ–∑–¥–∞–Ω–æ –∏ –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤:\", createdCommentIds.length);\r",
									"        console.log(\"ID –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤:\", createdCommentIds);\r",
									"        \r",
									"    } catch(err) {\r",
									"        console.error(\"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö:\", err);\r",
									"        pm.variables.set('eventIdForComments', 1);\r",
									"    }\r",
									"};\r",
									"\r",
									"const interval = setInterval(() => {}, 1000);\r",
									"setTimeout(async () => {\r",
									"    try {\r",
									"        await main();\r",
									"    } catch (e) {\r",
									"        console.error(e);\r",
									"    } finally {\r",
									"        clearInterval(interval);\r",
									"    }\r",
									"}, 100);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"–û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∫–æ–¥ —Å—Ç–∞—Ç—É—Å–∞ 200 –∏ –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ json\", function () {\r",
									"    pm.response.to.have.status(200);   \r",
									"    pm.response.to.be.json;\r",
									"});\r",
									"\r",
									"var response;\r",
									"try {\r",
									"    response = pm.response.json();\r",
									"    console.log(\"‚úÖ –û—Ç–≤–µ—Ç:\", JSON.stringify(response, null, 2));\r",
									"} catch (e) {\r",
									"    console.error(\"‚ùå –ù–µ JSON:\", pm.response.text());\r",
									"    pm.expect.fail(\"–ù–µ JSON –æ—Ç–≤–µ—Ç\");\r",
									"    return;\r",
									"}\r",
									"\r",
									"if (!response) {\r",
									"    pm.expect.fail(\"–û—Ç–≤–µ—Ç –ø—É—Å—Ç–æ–π\");\r",
									"    return;\r",
									"}\r",
									"\r",
									"pm.test(\"–û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–∞—Å—Å–∏–≤–æ–º\", function () {\r",
									"    pm.expect(Array.isArray(response)).to.be.true;\r",
									"});\r",
									"\r",
									"if (!Array.isArray(response)) {\r",
									"    console.error(\"‚ùå –û—Ç–≤–µ—Ç –Ω–µ —è–≤–ª—è–µ—Ç—Å—è –º–∞—Å—Å–∏–≤–æ–º:\", typeof response, response);\r",
									"    return;\r",
									"}\r",
									"\r",
									"pm.test(\"–î–æ–ª–∂–Ω—ã –±—ã—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ (–º–∞—Å—Å–∏–≤ –Ω–µ –ø—É—Å—Ç–æ–π)\", function () {\r",
									"    pm.expect(response.length).to.be.at.least(1);\r",
									"});\r",
									"\r",
									"pm.test(\"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –Ω–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–µ–≤—ã—à–∞—Ç—å —Ä–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã\", function () {\r",
									"    const urlString = pm.request.url.toString();\r",
									"    const urlObj = new URL(urlString);\r",
									"    const sizeParam = urlObj.searchParams.get('size');\r",
									"    const size = sizeParam ? parseInt(sizeParam) : 10;\r",
									"    \r",
									"    console.log(\"–ó–∞–ø—Ä–æ—à–µ–Ω–Ω—ã–π —Ä–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã:\", size, \"–ü–æ–ª—É—á–µ–Ω–æ:\", response.length);\r",
									"    pm.expect(response.length).to.be.at.most(size);\r",
									"});\r",
									"\r",
									"pm.test(\"–ö–∞–∂–¥—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –¥–æ–ª–∂–µ–Ω –∏–º–µ—Ç—å –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É CommentDto\", function () {\r",
									"    response.forEach(comment => {\r",
									"        pm.expect(comment).to.have.property('id');\r",
									"        pm.expect(comment.id).to.be.a('number');\r",
									"        pm.expect(comment).to.have.property('description');\r",
									"        if (comment.description) {\r",
									"            pm.expect(comment.description.length).to.be.at.least(20);\r",
									"        }\r",
									"        pm.expect(comment).to.have.property('name');\r",
									"        if (comment.name) {\r",
									"            pm.expect(comment.name.length).to.be.at.least(2);\r",
									"        }\r",
									"        pm.expect(comment).to.have.property('created');\r",
									"        pm.expect(comment).to.have.property('updated');\r",
									"        pm.expect(comment.updated).to.equal(comment.created);\r",
									"        \r",
									"        pm.expect(comment).to.not.have.property('eventId');\r",
									"        pm.expect(comment).to.not.have.property('user');\r",
									"        pm.expect(comment).to.not.have.property('email');\r",
									"        pm.expect(comment).to.not.have.property('status');\r",
									"        pm.expect(comment).to.not.have.property('authorId');\r",
									"    });\r",
									"});\r",
									"\r",
									"pm.test(\"–§–æ—Ä–º–∞—Ç –¥–∞—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å YYYY-MM-DD HH:mm:ss\", function () {\r",
									"    const dateRegex = /^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$/;\r",
									"    response.forEach(comment => {\r",
									"        pm.expect(comment.created).to.match(dateRegex);\r",
									"        pm.expect(comment.updated).to.match(dateRegex);\r",
									"    });\r",
									"});\r",
									"\r",
									"pm.test(\"–î–∞—Ç—ã –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤–∞–ª–∏–¥–Ω—ã–º–∏\", function () {\r",
									"    response.forEach(comment => {\r",
									"        const createdDate = new Date(comment.created.replace(' ', 'T') + 'Z');\r",
									"        const updatedDate = new Date(comment.updated.replace(' ', 'T') + 'Z');\r",
									"        \r",
									"        pm.expect(createdDate.toString()).to.not.equal('Invalid Date');\r",
									"        pm.expect(updatedDate.toString()).to.not.equal('Invalid Date');\r",
									"        pm.expect(createdDate.getTime()).to.equal(updatedDate.getTime());\r",
									"    });\r",
									"});\r",
									"\r",
									"pm.test(\"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ created (ASCENDING - —Å—Ç–∞—Ä—ã–µ –ø–µ—Ä–≤—ã–º–∏)\", function () {\r",
									"    if (response.length > 1) {\r",
									"        for (let i = 0; i < response.length - 1; i++) {\r",
									"            const current = new Date(response[i].created.replace(' ', 'T') + 'Z');\r",
									"            const next = new Date(response[i + 1].created.replace(' ', 'T') + 'Z');\r",
									"            pm.expect(current.getTime()).to.be.at.most(next.getTime());\r",
									"        }\r",
									"    }\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/comments/event/:eventId?from=0&size=10",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"comments",
								"event",
								":eventId"
							],
							"query": [
								{
									"key": "from",
									"value": "0"
								},
								{
									"key": "size",
									"value": "10"
								}
							],
							"variable": [
								{
									"key": "eventId",
									"value": "{{eventIdForComments}}"
								}
							]
						},
						"description": "GET /comments/event/{eventId} - –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ —Å–æ–±—ã—Ç–∏—è"
					},
					"response": []
				}
			]
		},
		{
			"name": "PRIVATE API (/users/{userId}/comments)",
			"item": [
				{
					"name": "–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const main = async () => {\r",
									"    const api = new API(pm);\r",
									"    const rnd = new RandomUtils();\r",
									"\r",
									"    try {\r",
									"        const user = await api.addUser(rnd.getUser());\r",
									"        pm.collectionVariables.set(\"uid\", user.id);\r",
									"\r",
									"        const author = await api.addUser(rnd.getUser());\r",
									"\r",
									"        const category = await api.addCategory(rnd.getCategory());\r",
									"        let event = await api.addEvent(author.id, rnd.getEvent(category.id));\r",
									"        event = await api.publishEvent(event.id);\r",
									"        pm.collectionVariables.set(\"eid\", event.id);\r",
									"\r",
									"        const requestToJoin = await api.publishParticipationRequest(event.id, user.id);\r",
									"        const confirmedRequest = await api.acceptParticipationRequest(event.id, author.id, requestToJoin.id);\r",
									"        \r",
									"        const commentData = {\r",
									"            description: \"Valid comment text with more than twenty characters for authorized user.\",\r",
									"            eventId: event.id  // eventId –≤ —Ç–µ–ª–µ –∑–∞–ø—Ä–æ—Å–∞!\r",
									"        };\r",
									"        \r",
									"        pm.request.body.update({\r",
									"            mode: 'raw',\r",
									"            raw: JSON.stringify(commentData),\r",
									"            options: { raw: { language: 'json' } }\r",
									"        });\r",
									"        \r",
									"    } catch(err) {\r",
									"        console.error(\"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö.\", err);\r",
									"    }\r",
									"};\r",
									"\r",
									"const interval = setInterval(() => {}, 1000);\r",
									"setTimeout(async () => {\r",
									"    try {\r",
									"        await main();\r",
									"    } catch (e) {\r",
									"        console.error(e);\r",
									"    } finally {\r",
									"        clearInterval(interval);\r",
									"    }\r",
									"}, 100);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"–û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∫–æ–¥ —Å—Ç–∞—Ç—É—Å–∞ 201 –∏ –¥–∞–Ω–Ω—ã–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ json\", function() {\r",
									"    pm.response.to.have.status(201);\r",
									"    pm.response.to.be.withBody;\r",
									"    pm.response.to.be.json;\r",
									"});\r",
									"\r",
									"var responseBody = pm.response.json();\r",
									"\r",
									"pm.test(\"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –ø–æ–ª—è CommentDto\", function () {\r",
									"    pm.expect(responseBody).to.have.property('id');\r",
									"    pm.expect(responseBody).to.have.property('description');\r",
									"    pm.expect(responseBody.description.length).to.be.at.least(20);\r",
									"    pm.expect(responseBody).to.have.property('created');\r",
									"});\r",
									"\r",
									"pm.test(\"–î–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–ª–µ user\", function () {\r",
									"    pm.expect(responseBody).to.have.property('user');\r",
									"    pm.expect(responseBody.user).to.not.be.null;\r",
									"    pm.expect(responseBody.user).to.have.property('id');\r",
									"    pm.expect(responseBody.user).to.have.property('name');\r",
									"});\r",
									"\r",
									"pm.test(\"ID –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ user –¥–æ–ª–∂–µ–Ω —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–æ–≤–∞—Ç—å —Ç–µ–∫—É—â–µ–º—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é\", function () {\r",
									"    const userId = pm.collectionVariables.get('uid');\r",
									"    pm.expect(responseBody.user.id.toString()).to.equal(userId.toString());\r",
									"});\r",
									"\r",
									"pm.test(\"–î–ª—è –Ω–æ–≤–æ–≥–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è updated –¥–æ–ª–∂–Ω–æ –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞—Ç—å (null)\", function () {\r",
									"    pm.expect(responseBody).to.not.have.property('updated');\r",
									"});\r",
									"\r",
									"pm.test(\"–ù–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –ø–æ–ª–µ–π, –∫–æ—Ç–æ—Ä—ã—Ö –Ω–µ—Ç –≤ CommentDto\", function () {\r",
									"    pm.expect(responseBody).to.not.have.property('eventId');\r",
									"    pm.expect(responseBody).to.not.have.property('authorId');\r",
									"    pm.expect(responseBody).to.not.have.property('status');\r",
									"    pm.expect(responseBody).to.not.have.property('text');\r",
									"});\r",
									"\r",
									"pm.test(\"–§–æ—Ä–º–∞—Ç –¥–∞—Ç—ã —Å–æ–∑–¥–∞–Ω–∏—è –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å YYYY-MM-DD HH:mm:ss\", function () {\r",
									"    const dateRegex = /^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$/;\r",
									"    pm.expect(responseBody.created).to.match(dateRegex);\r",
									"    \r",
									"    const createdDate = new Date(responseBody.created.replace(' ', 'T') + 'Z');\r",
									"    pm.expect(createdDate.toString()).to.not.equal('Invalid Date');\r",
									"});\r",
									"\r",
									"if (responseBody && responseBody.id) {\r",
									"    pm.collectionVariables.set('commentId', responseBody.id);\r",
									"    console.log(\"–°–æ–∑–¥–∞–Ω –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ID:\", responseBody.id);\r",
									"}"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"description\": \"Valid comment text...\",\r\n    \"eventId\": \"{{eid}}\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/users/{{uid}}/comments",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"users",
								"{{uid}}",
								"comments"
							]
						},
						"description": "POST /users/{userId}/comments?eventId={eventId} - —Å–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º"
					},
					"response": []
				},
				{
					"name": "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const main = async () => {\r",
									"    const api = new API(pm);\r",
									"    const rnd = new RandomUtils();\r",
									"\r",
									"    try {\r",
									"        const user = await api.addUser(rnd.getUser());\r",
									"        const userId = user.id;\r",
									"        pm.collectionVariables.set(\"uid\", userId);\r",
									"        \r",
									"        const author = await api.addUser(rnd.getUser());\r",
									"        \r",
									"        const category = await api.addCategory(rnd.getCategory());\r",
									"        let event = await api.addEvent(author.id, rnd.getEvent(category.id));\r",
									"        const eventId = event.id;\r",
									"        event = await api.publishEvent(eventId);\r",
									"        pm.collectionVariables.set(\"eid\", eventId);\r",
									"        \r",
									"        const commentData = {\r",
									"            description: \"Original comment text with more than twenty characters for update test.\",\r",
									"            eventId: eventId\r",
									"        };\r",
									"        \r",
									"        const createRes = await pm.sendRequest({\r",
									"            url: `${pm.collectionVariables.get(\"baseUrl\")}/users/${userId}/comments`,\r",
									"            method: 'POST',\r",
									"            header: { 'Content-Type': 'application/json' },\r",
									"            body: JSON.stringify(commentData)\r",
									"        });\r",
									"        \r",
									"        if (createRes.code !== 201) {\r",
									"            throw new Error(\"–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: \" + createRes.body);\r",
									"        }\r",
									"        \r",
									"        const comment = createRes.json();\r",
									"        pm.collectionVariables.set(\"commentId\", comment.id);\r",
									"        \r",
									"        console.log(\"‚úÖ –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å–æ–∑–¥–∞–Ω, ID:\", comment.id);\r",
									"        \r",
									"        const updateData = {\r",
									"            description: \"Updated comment text with more than twenty characters after edit.\"\r",
									"        };\r",
									"        \r",
									"        pm.request.body.update({\r",
									"            mode: 'raw',\r",
									"            raw: JSON.stringify(updateData),\r",
									"            options: { raw: { language: 'json' } }\r",
									"        });\r",
									"        \r",
									"    } catch(err) {\r",
									"        console.error(\"–û—à–∏–±–∫–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏:\", err.message);\r",
									"        throw err;\r",
									"    }\r",
									"};\r",
									"\r",
									"const interval = setInterval(() => {}, 1000);\r",
									"setTimeout(async () => {\r",
									"    try {\r",
									"        await main();\r",
									"    } catch (e) {\r",
									"        console.error(e);\r",
									"        pm.test(\"–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞\", function() {\r",
									"            pm.expect.fail(\"–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ: \" + e.message);\r",
									"        });\r",
									"    } finally {\r",
									"        clearInterval(interval);\r",
									"    }\r",
									"}, 100);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"–°—Ç–∞—Ç—É—Å 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"    pm.response.to.be.json;\r",
									"});\r",
									"\r",
									"var response;\r",
									"try {\r",
									"    response = pm.response.json();\r",
									"    console.log(\"‚úÖ –û—Ç–≤–µ—Ç:\", JSON.stringify(response, null, 2));\r",
									"} catch (e) {\r",
									"    console.error(\"‚ùå –ù–µ JSON:\", pm.response.text());\r",
									"    pm.expect.fail(\"–ù–µ JSON –æ—Ç–≤–µ—Ç\");\r",
									"    return;\r",
									"}\r",
									"\r",
									"pm.test(\"–°—Ç—Ä—É–∫—Ç—É—Ä–∞ CommentDto\", function () {\r",
									"    pm.expect(response).to.have.property('id');\r",
									"    pm.expect(response).to.have.property('description');\r",
									"    pm.expect(response).to.have.property('created');\r",
									"    pm.expect(response).to.have.property('user');\r",
									"    pm.expect(response).to.have.property('updated');\r",
									"    pm.expect(response.user).to.have.property('id');\r",
									"    pm.expect(response.user).to.have.property('name');\r",
									"});\r",
									"\r",
									"pm.test(\"ID –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è\", function () {\r",
									"    const commentId = pm.collectionVariables.get('commentId');\r",
									"    pm.expect(response.id.toString()).to.equal(commentId.toString());\r",
									"});\r",
									"\r",
									"pm.test(\"–û–ø–∏—Å–∞–Ω–∏–µ –æ–±–Ω–æ–≤–ª–µ–Ω–æ\", function () {\r",
									"    const requestBody = JSON.parse(pm.request.body.raw || '{}');\r",
									"    pm.expect(response.description).to.equal(requestBody.description);\r",
									"    pm.expect(response.description.length).to.be.at.least(20);\r",
									"});\r",
									"\r",
									"pm.test(\"–ü–æ–ª–µ updated —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ\", function () {\r",
									"    pm.expect(response.updated).to.be.a('string').and.not.be.empty;\r",
									"    \r",
									"    const dateRegex = /^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$/;\r",
									"    pm.expect(response.updated).to.match(dateRegex);\r",
									"    \r",
									"    const createdDate = new Date(response.created.replace(' ', 'T') + 'Z');\r",
									"    const updatedDate = new Date(response.updated.replace(' ', 'T') + 'Z');\r",
									"    pm.expect(updatedDate.getTime()).to.be.at.least(createdDate.getTime());\r",
									"    \r",
									"    console.log(\"‚úÖ updated:\", response.updated);\r",
									"});\r",
									"\r",
									"pm.test(\"–ê–≤—Ç–æ—Ä –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è\", function () {\r",
									"    const userId = pm.collectionVariables.get('uid');\r",
									"    pm.expect(response.user.id.toString()).to.equal(userId.toString());\r",
									"});\r",
									"\r",
									"pm.test(\"–§–æ—Ä–º–∞—Ç created –∫–æ—Ä—Ä–µ–∫—Ç–µ–Ω\", function () {\r",
									"    const dateRegex = /^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$/;\r",
									"    pm.expect(response.created).to.match(dateRegex);\r",
									"    \r",
									"    const createdDate = new Date(response.created.replace(' ', 'T') + 'Z');\r",
									"    pm.expect(createdDate.toString()).to.not.equal('Invalid Date');\r",
									"});\r",
									"\r",
									"pm.test(\"–ù–µ—Ç –ª–∏—à–Ω–∏—Ö –ø–æ–ª–µ–π\", function () {\r",
									"    const allowedFields = ['id', 'description', 'created', 'updated', 'user'];\r",
									"    const responseFields = Object.keys(response);\r",
									"    \r",
									"    responseFields.forEach(field => {\r",
									"        pm.expect(allowedFields).to.include(field);\r",
									"    });\r",
									"    \r",
									"    const disallowedFields = ['eventId', 'authorId', 'status', 'state', 'text'];\r",
									"    disallowedFields.forEach(field => {\r",
									"        pm.expect(response).to.not.have.property(field);\r",
									"    });\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\r\n    \"description\": \"Updated comment text with more than twenty characters after edit.\"\r\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/users/{{uid}}/comments/{{commentId}}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"users",
								"{{uid}}",
								"comments",
								"{{commentId}}"
							]
						},
						"description": "PATCH /users/{userId}/comments/{commentId} - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è"
					},
					"response": []
				},
				{
					"name": "–û—Ç–º–µ–Ω–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const main = async () => {\r",
									"    const api = new API(pm);\r",
									"    const rnd = new RandomUtils();\r",
									"\r",
									"    try {\r",
									"        const user = await api.addUser(rnd.getUser());\r",
									"        const userId = user.id;\r",
									"        pm.collectionVariables.set(\"uid\", userId);\r",
									"\r",
									"        const author = await api.addUser(rnd.getUser());\r",
									"        const authorId = author.id;\r",
									"\r",
									"        const category = await api.addCategory(rnd.getCategory());\r",
									"        \r",
									"        const eventData = rnd.getEvent(category.id);\r",
									"        \r",
									"        eventData.requestModeration = true;\r",
									"        eventData.participantLimit = 10;\r",
									"        \r",
									"        let event = await api.addEvent(authorId, eventData);\r",
									"        const eventId = event.id;\r",
									"        \r",
									"        event = await api.publishEvent(eventId);\r",
									"        pm.collectionVariables.set(\"eid\", eventId);\r",
									"        \r",
									"        const requestToJoin = await api.publishParticipationRequest(eventId, userId);\r",
									"        \r",
									"        if (requestToJoin.status === \"CONFIRMED\") {\r",
									"            console.log(\"‚ÑπÔ∏è –ó–∞—è–≤–∫–∞ —É–∂–µ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏\");\r",
									"        } else {\r",
									"            console.log(\"üìù –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞—é –∑–∞—è–≤–∫—É...\");\r",
									"            try {\r",
									"                const confirmedRequest = await api.acceptParticipationRequest(eventId, authorId, requestToJoin.id);\r",
									"                console.log(\"‚úÖ –ó–∞—è–≤–∫–∞ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∞:\", confirmedRequest.id);\r",
									"            } catch (confirmError) {\r",
									"                console.warn(\"‚ö†Ô∏è –ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç—å –∑–∞—è–≤–∫—É:\", confirmError.message);\r",
									"                console.warn(\"‚ÑπÔ∏è –í–æ–∑–º–æ–∂–Ω–æ —Å–æ–±—ã—Ç–∏–µ –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è\");\r",
									"            }\r",
									"        }\r",
									"        \r",
									"        const commentData = {\r",
									"            description: \"Comment to be canceled with more than twenty characters for test.\",\r",
									"            eventId: eventId\r",
									"        };\r",
									"        \r",
									"        const createResponse = await pm.sendRequest({\r",
									"            url: `${pm.collectionVariables.get(\"baseUrl\")}/users/${userId}/comments`,\r",
									"            method: 'POST',\r",
									"            header: {\r",
									"                'Content-Type': 'application/json'\r",
									"            },\r",
									"            body: {\r",
									"                mode: 'raw',\r",
									"                raw: JSON.stringify(commentData)\r",
									"            }\r",
									"        });\r",
									"        \r",
									"        if (createResponse.code !== 201) {\r",
									"            throw new Error(`–û—à–∏–±–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è: ${createResponse.code} - ${createResponse.text()}`);\r",
									"        }\r",
									"        \r",
									"        const comment = createResponse.json();\r",
									"        const commentId = comment.id;\r",
									"        \r",
									"        if (comment.state === \"CANCELED\") {\r",
									"            throw new Error(\"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —Å–æ–∑–¥–∞–Ω —É–∂–µ –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ CANCELED!\");\r",
									"        }\r",
									"        \r",
									"        pm.collectionVariables.set(\"commentId\", commentId);\r",
									"        await new Promise(resolve => setTimeout(resolve, 300));\r",
									"        \r",
									"        const currentUrl = pm.request.url.toString();\r",
									"        const newUrl = currentUrl\r",
									"            .replace('{{uid}}', userId.toString())\r",
									"            .replace('{{commentId}}', commentId.toString());\r",
									"        \r",
									"        pm.request.url = newUrl;\r",
									"        \r",
									"    } catch(err) {\r",
									"        console.error(\"‚ùå –û–®–ò–ë–ö–ê –ü–û–î–ì–û–¢–û–í–ö–ò:\", err.message);\r",
									"        console.error(\"Stack:\", err.stack);\r",
									"        throw err;\r",
									"    }\r",
									"};\r",
									"\r",
									"const interval = setInterval(() => {}, 1000);\r",
									"setTimeout(async () => {\r",
									"    try {\r",
									"        await main();\r",
									"    } catch (e) {\r",
									"        console.error(\"–§–∞—Ç–∞–ª—å–Ω–∞—è –æ—à–∏–±–∫–∞:\", e);\r",
									"        pm.test(\"–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –¥–∞–Ω–Ω—ã—Ö\", function() {\r",
									"            pm.expect.fail(`–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å: ${e.message}`);\r",
									"        });\r",
									"    } finally {\r",
									"        clearInterval(interval);\r",
									"    }\r",
									"}, 100);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"–°—Ç–∞—Ç—É—Å 200\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"    pm.response.to.be.json;\r",
									"});\r",
									"\r",
									"var response;\r",
									"try {\r",
									"    response = pm.response.json();\r",
									"} catch (e) {\r",
									"    console.error(\"‚ùå –ù–µ JSON:\", pm.response.text());\r",
									"    pm.expect.fail(\"–ù–µ JSON –æ—Ç–≤–µ—Ç\");\r",
									"    return;\r",
									"}\r",
									"\r",
									"pm.test(\"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ—Ç–º–µ–Ω–µ–Ω\", function () {\r",
									"    pm.expect(response.state).to.equal(\"CANCELED\");\r",
									"});\r",
									"\r",
									"pm.test(\"ID —Å–æ—Ö—Ä–∞–Ω–∏–ª—Å—è\", function () {\r",
									"    const commentId = pm.collectionVariables.get('commentId');\r",
									"    pm.expect(response.id.toString()).to.equal(commentId.toString());\r",
									"});\r",
									"\r",
									"pm.test(\"–ê–≤—Ç–æ—Ä –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è\", function () {\r",
									"    const userId = pm.collectionVariables.get('uid');\r",
									"    pm.expect(response.user.id.toString()).to.equal(userId.toString());\r",
									"});\r",
									"\r",
									"if (response.created && typeof response.created === 'string') {\r",
									"    pm.test(\"–ü–æ–ª–µ created –≤–∞–ª–∏–¥–Ω–æ\", function () {\r",
									"        const dateRegex = /^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$/;\r",
									"        pm.expect(response.created).to.match(dateRegex);\r",
									"    });\r",
									"}\r",
									"\r",
									"if (response.updated && typeof response.updated === 'string') {\r",
									"    pm.test(\"–ü–æ–ª–µ updated –≤–∞–ª–∏–¥–Ω–æ\", function () {\r",
									"        const dateRegex = /^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$/;\r",
									"        pm.expect(response.updated).to.match(dateRegex);\r",
									"    });\r",
									"}\r",
									"\r",
									"if (response.created && response.updated && \r",
									"    typeof response.created === 'string' && typeof response.updated === 'string') {\r",
									"    \r",
									"    try {\r",
									"        const createdDate = new Date(response.created.replace(' ', 'T') + 'Z');\r",
									"        const updatedDate = new Date(response.updated.replace(' ', 'T') + 'Z');\r",
									"        \r",
									"        if (!isNaN(createdDate.getTime()) && !isNaN(updatedDate.getTime())) {\r",
									"            pm.test(\"updated –Ω–µ —Ä–∞–Ω—å—à–µ created\", function () {\r",
									"                pm.expect(updatedDate.getTime()).to.be.at.least(createdDate.getTime());\r",
									"            });\r",
									"        }\r",
									"    } catch (dateError) {\r",
									"        console.warn(\"–ù–µ —É–¥–∞–ª–æ—Å—å —Å—Ä–∞–≤–Ω–∏—Ç—å –¥–∞—Ç—ã:\", dateError.message);\r",
									"    }\r",
									"}"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/users/{{uid}}/comments/{{commentId}}/cancel",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"users",
								"{{uid}}",
								"comments",
								"{{commentId}}",
								"cancel"
							]
						},
						"description": "PATCH /users/{userId}/comments/{commentId}/cancel - –æ—Ç–º–µ–Ω–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è"
					},
					"response": []
				},
				{
					"name": "–ü–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const main = async () => {\r",
									"    const api = new API(pm);\r",
									"    const rnd = new RandomUtils();\r",
									"\r",
									"    try {\r",
									"        const creator = await api.addUser(rnd.getUser());\r",
									"        const creatorId = creator.id;\r",
									"        pm.collectionVariables.set(\"uid\", creatorId);\r",
									"        \r",
									"        const participant = await api.addUser(rnd.getUser());\r",
									"        const participantId = participant.id;\r",
									"        \r",
									"        const category = await api.addCategory(rnd.getCategory());\r",
									"        \r",
									"        let event = await api.addEvent(creatorId, rnd.getEvent(category.id));\r",
									"        const eventId = event.id;\r",
									"        \r",
									"        event = await api.publishEvent(eventId);\r",
									"        \r",
									"        pm.collectionVariables.set(\"eid\", eventId);\r",
									"        \r",
									"        const commentData = {\r",
									"            description: \"Comment from participant to creator's event with more than twenty characters.\",\r",
									"            eventId: eventId\r",
									"        };\r",
									"        \r",
									"        const createResponse = await pm.sendRequest({\r",
									"            url: `${pm.collectionVariables.get(\"baseUrl\")}/users/${participantId}/comments`,\r",
									"            method: 'POST',\r",
									"            header: { 'Content-Type': 'application/json' },\r",
									"            body: { mode: 'raw', raw: JSON.stringify(commentData) }\r",
									"        });\r",
									"        \r",
									"        if (createResponse.code === 201) {\r",
									"            const comment = createResponse.json();\r",
									"            console.log(\"\\nüéâ –ö–û–ú–ú–ï–ù–¢–ê–†–ò–ô –°–û–ó–î–ê–ù –£–ß–ê–°–¢–ù–ò–ö–û–ú!\");\r",
									"            console.log(\"   ID –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è:\", comment.id);\r",
									"            console.log(\"   –ê–≤—Ç–æ—Ä (–¥–æ–ª–∂–µ–Ω –±—ã—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫):\", comment.user?.id);\r",
									"            console.log(\"   –°–æ—Å—Ç–æ—è–Ω–∏–µ:\", comment.state);\r",
									"            \r",
									"            pm.collectionVariables.set(\"commentId\", comment.id);\r",
									"            \r",
									"            const commentCheck = await pm.sendRequest({\r",
									"                url: `${pm.collectionVariables.get(\"baseUrl\")}/comments/${comment.id}`,\r",
									"                method: 'GET'\r",
									"            });\r",
									"            \r",
									"        } else {\r",
									"            const error = createResponse.json();\r",
									"            if (error?.message) {\r",
									"                console.error(\"–ü—Ä–∏—á–∏–Ω–∞:\", error.message);\r",
									"            }\r",
									"            return;\r",
									"        }\r",
									"        const currentUrl = pm.request.url.toString();\r",
									"        const newUrl = currentUrl\r",
									"            .replace('{{uid}}', creatorId.toString())\r",
									"            .replace('{{eid}}', eventId.toString());\r",
									"        \r",
									"        pm.request.url = newUrl;\r",
									"    } catch(err) {\r",
									"        console.error(\"‚ùå –û—à–∏–±–∫–∞:\", err.message);\r",
									"    }\r",
									"};\r",
									"\r",
									"const interval = setInterval(() => {}, 1000);\r",
									"setTimeout(async () => {\r",
									"    try {\r",
									"        await main();\r",
									"    } catch (e) {\r",
									"        console.error(e);\r",
									"    } finally {\r",
									"        clearInterval(interval);\r",
									"    }\r",
									"}, 100);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"–°—Ç–∞—Ç—É—Å 200\", function () {\r",
									"    pm.response.to.have.status(200);   \r",
									"    pm.response.to.be.json;\r",
									"});\r",
									"\r",
									"var responseBody = pm.response.json();\r",
									"\r",
									"pm.test(\"–û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–∞—Å—Å–∏–≤–æ–º\", function () {\r",
									"    pm.expect(Array.isArray(responseBody)).to.be.true;\r",
									"});\r",
									"\r",
									"if (responseBody.length > 0) {\r",
									"    responseBody.forEach((comment, i) => {\r",
									"        console.log(`\\n${i + 1}. ID: ${comment.id}`);\r",
									"        console.log(`   –ê–≤—Ç–æ—Ä: ${comment.user?.id} (${comment.user?.name})`);\r",
									"        console.log(`   –°–æ—Å—Ç–æ—è–Ω–∏–µ: ${comment.state}`);\r",
									"        console.log(`   –û–ø–∏—Å–∞–Ω–∏–µ: ${comment.description?.substring(0, 50)}...`);\r",
									"    });\r",
									"    \r",
									"    pm.test(\"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏–º–µ—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É\", function () {\r",
									"        responseBody.forEach(comment => {\r",
									"            pm.expect(comment).to.have.all.keys(['id', 'description', 'created', 'state', 'user']);\r",
									"            pm.expect(comment.user).to.have.keys(['id', 'name']);\r",
									"            pm.expect(comment.description.length).to.be.at.least(20);\r",
									"        });\r",
									"    });\r",
									"    \r",
									"    const creatorId = pm.collectionVariables.get('uid');\r",
									"    responseBody.forEach((comment, i) => {\r",
									"        console.log(`–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π ${i + 1}: –∞–≤—Ç–æ—Ä ${comment.user.id} !== —Å–æ–∑–¥–∞—Ç–µ–ª—å ${creatorId}?`, \r",
									"                   comment.user.id.toString() !== creatorId.toString());\r",
									"    });\r",
									"    \r",
									"} else {\r",
									"    console.log(\"‚ö†Ô∏è –ú–∞—Å—Å–∏–≤ –≤—Å–µ –µ—â–µ –ø—É—Å—Ç!\");\r",
									"    \r",
									"    pm.test(\"–ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ - endpoint —Ä–∞–±–æ—Ç–∞–µ—Ç\", function () {\r",
									"        pm.expect(responseBody).to.be.an('array').that.is.empty;\r",
									"    });\r",
									"}"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/users/{{uid}}/comments?eventId={{eid}}&from=0&size=10",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"users",
								"{{uid}}",
								"comments"
							],
							"query": [
								{
									"key": "eventId",
									"value": "{{eid}}"
								},
								{
									"key": "from",
									"value": "0"
								},
								{
									"key": "size",
									"value": "10"
								}
							]
						},
						"description": "GET /users/{userId}/comments - –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
					},
					"response": []
				}
			]
		},
		{
			"name": "ADMIN API (/admin/comments)",
			"item": [
				{
					"name": "–ü–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const main = async () => {\r",
									"    const api = new API(pm);\r",
									"    const rnd = new RandomUtils();\r",
									"\r",
									"    try {\r",
									"        const author = await api.addUser(rnd.getUser());\r",
									"        const authorId = author.id;\r",
									"        \r",
									"        const user1 = await api.addUser(rnd.getUser());\r",
									"        const user2 = await api.addUser(rnd.getUser());\r",
									"        \r",
									"        const category = await api.addCategory(rnd.getCategory());\r",
									"        let event = await api.addEvent(authorId, rnd.getEvent(category.id));\r",
									"        const eventId = event.id;\r",
									"        \r",
									"        event = await api.publishEvent(eventId);\r",
									"        pm.collectionVariables.set(\"eid\", eventId);\r",
									"        \r",
									"        const comment1Data = {\r",
									"            description: \"First admin test comment with more than twenty characters from user one.\",\r",
									"            eventId: eventId\r",
									"        };\r",
									"        \r",
									"        const create1Res = await pm.sendRequest({\r",
									"            url: `${pm.collectionVariables.get(\"baseUrl\")}/users/${user1.id}/comments`,\r",
									"            method: 'POST',\r",
									"            header: { 'Content-Type': 'application/json' },\r",
									"            body: { mode: 'raw', raw: JSON.stringify(comment1Data) }\r",
									"        });\r",
									"        \r",
									"        if (create1Res.code === 201) {\r",
									"            const comment1 = create1Res.json();\r",
									"        }\r",
									"        \r",
									"        await new Promise(resolve => setTimeout(resolve, 100));\r",
									"        \r",
									"        const comment2Data = {\r",
									"            description: \"Second admin test comment with more than twenty characters from user two.\",\r",
									"            eventId: eventId\r",
									"        };\r",
									"        \r",
									"        const create2Res = await pm.sendRequest({\r",
									"            url: `${pm.collectionVariables.get(\"baseUrl\")}/users/${user2.id}/comments`,\r",
									"            method: 'POST',\r",
									"            header: { 'Content-Type': 'application/json' },\r",
									"            body: { mode: 'raw', raw: JSON.stringify(comment2Data) }\r",
									"        });\r",
									"        \r",
									"        if (create2Res.code === 201) {\r",
									"            const comment2 = create2Res.json();\r",
									"            pm.collectionVariables.set(\"commentId\", comment2.id);\r",
									"        }\r",
									"        \r",
									"        const currentUrl = pm.request.url.toString();\r",
									"        const newUrl = currentUrl.replace('{{eid}}', eventId.toString());\r",
									"        pm.request.url = newUrl;\r",
									"        \r",
									"    } catch(err) {\r",
									"        console.error(\"–û—à–∏–±–∫–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏:\", err.message);\r",
									"    }\r",
									"};\r",
									"\r",
									"const interval = setInterval(() => {}, 1000);\r",
									"setTimeout(async () => {\r",
									"    try {\r",
									"        await main();\r",
									"    } catch (e) {\r",
									"        console.error(e);\r",
									"    } finally {\r",
									"        clearInterval(interval);\r",
									"    }\r",
									"}, 100);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"–°—Ç–∞—Ç—É—Å 200\", function () {\r",
									"    pm.response.to.have.status(200);   \r",
									"    pm.response.to.be.json;\r",
									"});\r",
									"\r",
									"var responseBody;\r",
									"try {\r",
									"    responseBody = pm.response.json();\r",
									"    console.log(\"‚úÖ –û—Ç–≤–µ—Ç —Ä–∞—Å–ø–∞—Ä—Å–µ–Ω\");\r",
									"} catch (e) {\r",
									"    console.error(\"‚ùå –û—à–∏–±–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞:\", e);\r",
									"    pm.expect.fail(\"–ù–µ JSON –æ—Ç–≤–µ—Ç\");\r",
									"    return;\r",
									"}\r",
									"\r",
									"pm.test(\"–û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –º–∞—Å—Å–∏–≤–æ–º\", function () {\r",
									"    pm.expect(Array.isArray(responseBody)).to.be.true;\r",
									"});\r",
									"\r",
									"\r",
									"if (responseBody.length > 0) {\r",
									"    pm.test(\"–í—Å–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∏–º–µ—é—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É FullCommentDto\", function () {\r",
									"        responseBody.forEach(comment => {\r",
									"            pm.expect(comment).to.have.property('id');\r",
									"            pm.expect(comment).to.have.property('description');\r",
									"            pm.expect(comment).to.have.property('created');\r",
									"            pm.expect(comment).to.have.property('state');\r",
									"            pm.expect(comment).to.have.property('user');\r",
									"        \r",
									"            pm.expect(comment.user).to.have.property('id');\r",
									"            pm.expect(comment.user).to.have.property('name');\r",
									"            \r",
									"            pm.expect(comment.description.length).to.be.at.least(20);\r",
									"            \r",
									"            if (comment.updated !== undefined) {\r",
									"                pm.expect(comment.updated).to.be.a('string');\r",
									"            }\r",
									"            \r",
									"            if (comment.name !== undefined) {\r",
									"                pm.expect(comment.name).to.be.a('string');\r",
									"            }\r",
									"        });\r",
									"    });\r",
									"    \r",
									"    const authors = [...new Set(responseBody.map(c => c.user.id))];\r",
									"    \r",
									"    const url = new URL(pm.request.url.toString());\r",
									"    const size = parseInt(url.searchParams.get('size')) || 10;\r",
									"    \r",
									"    pm.test(\"–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç size\", function () {\r",
									"        pm.expect(responseBody.length).to.be.at.most(size);\r",
									"    });\r",
									"    \r",
									"} else {\r",
									"    pm.test(\"–ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ - –≤–∞–ª–∏–¥–Ω—ã–π –æ—Ç–≤–µ—Ç\", function () {\r",
									"        pm.expect(responseBody).to.be.an('array').that.is.empty;\r",
									"    });\r",
									"}\r",
									"\r",
									"pm.test(\"–ù–µ—Ç –ø–æ–ª–µ–π –≤–Ω–µ FullCommentDto\", function () {\r",
									"    const allowedFields = ['id', 'description', 'name', 'created', 'updated', 'state', 'user'];\r",
									"    \r",
									"    responseBody.forEach(comment => {\r",
									"        Object.keys(comment).forEach(field => {\r",
									"            pm.expect(allowedFields).to.include(field);\r",
									"        });\r",
									"        \r",
									"        const disallowedFields = ['text', 'status', 'authorId', 'eventId'];\r",
									"        disallowedFields.forEach(field => {\r",
									"            pm.expect(comment).to.not.have.property(field);\r",
									"        });\r",
									"    });\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/admin/comments?eventId={{eid}}&from=0&size=10",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"admin",
								"comments"
							],
							"query": [
								{
									"key": "eventId",
									"value": "{{eid}}"
								},
								{
									"key": "from",
									"value": "0"
								},
								{
									"key": "size",
									"value": "10"
								}
							]
						},
						"description": "GET /admin/comments - –ø–æ–ª—É—á–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–µ–≤ —Å —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–µ–π"
					},
					"response": []
				},
				{
					"name": "–ò–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const main = async () => {\r",
									"    const api = new API(pm);\r",
									"    const rnd = new RandomUtils();\r",
									"\r",
									"    try {\r",
									"        const user = await api.addUser(rnd.getUser());\r",
									"        const userId = user.id;\r",
									"        \r",
									"        const author = await api.addUser(rnd.getUser());\r",
									"        \r",
									"        const category = await api.addCategory(rnd.getCategory());\r",
									"        let event = await api.addEvent(author.id, rnd.getEvent(category.id));\r",
									"        const eventId = event.id;\r",
									"        event = await api.publishEvent(eventId);\r",
									"        \r",
									"        const commentData = {\r",
									"            description: \"Comment for admin status update test with more than twenty characters.\",\r",
									"            eventId: eventId\r",
									"        };\r",
									"        \r",
									"        const createRes = await pm.sendRequest({\r",
									"            url: `${pm.collectionVariables.get(\"baseUrl\")}/users/${userId}/comments`,\r",
									"            method: 'POST',\r",
									"            header: { 'Content-Type': 'application/json' },\r",
									"            body: { mode: 'raw', raw: JSON.stringify(commentData) }\r",
									"        });\r",
									"        \r",
									"        if (createRes.code !== 201) {\r",
									"            throw new Error(\"–ù–µ —É–¥–∞–ª–æ—Å—å —Å–æ–∑–¥–∞—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π: \" + createRes.text());\r",
									"        }\r",
									"        \r",
									"        const comment = createRes.json();\r",
									"        const commentId = comment.id;\r",
									"        pm.collectionVariables.set(\"commentId\", commentId);\r",
									"\r",
									"        const targetState = \"CANCELED\";\r",
									"        console.log(`   ‚öôÔ∏è  –¢–∞–∫ –∫–∞–∫ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —É–∂–µ PUBLISHED, Admin –º–æ–∂–µ—Ç —Ç–æ–ª—å–∫–æ –æ—Ç–º–µ–Ω–∏—Ç—å –µ–≥–æ`);\r",
									"        console.log(`   ‚öôÔ∏è  Admin –∏–∑–º–µ–Ω–∏—Ç —Å—Ç–∞—Ç—É—Å: PUBLISHED ‚Üí CANCELED`);\r",
									"        \r",
									"        const baseUrl = pm.collectionVariables.get(\"baseUrl\");\r",
									"        const finalUrl = `${baseUrl}/admin/comments/${commentId}?state=${targetState}`;\r",
									"        \r",
									"        pm.request.url = finalUrl;\r",
									"        \r",
									"        pm.request.body.update({\r",
									"            mode: 'raw',\r",
									"            raw: '',\r",
									"            options: { raw: { language: 'text' } }\r",
									"        });\r",
									"        \r",
									"        pm.collectionVariables.set(\"expectedState\", targetState);\r",
									"        pm.collectionVariables.set(\"originalState\", \"PUBLISHED\");\r",
									"        \r",
									"    } catch(err) {\r",
									"        console.error(\"–û—à–∏–±–∫–∞ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏:\", err.message);\r",
									"        throw err;\r",
									"    }\r",
									"};\r",
									"\r",
									"const interval = setInterval(() => {}, 1000);\r",
									"setTimeout(async () => {\r",
									"    try {\r",
									"        await main();\r",
									"    } catch (e) {\r",
									"        console.error(e);\r",
									"        pm.test(\"–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞\", function() {\r",
									"            pm.expect.fail(\"–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–¥–≥–æ—Ç–æ–≤–∏—Ç—å –¥–∞–Ω–Ω—ã–µ: \" + e.message);\r",
									"        });\r",
									"    } finally {\r",
									"        clearInterval(interval);\r",
									"    }\r",
									"}, 100);"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"–ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞ –æ—Ç–≤–µ—Ç–∞\", function () {\r",
									"    pm.response.to.have.status(200);\r",
									"    pm.response.to.be.json;\r",
									"});\r",
									"\r",
									"var response;\r",
									"try {\r",
									"    response = pm.response.json();\r",
									"} catch (e) {\r",
									"    console.error(\"‚ùå –ù–µ JSON:\", pm.response.text());\r",
									"    pm.expect.fail(\"–û—Ç–≤–µ—Ç –Ω–µ –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON\");\r",
									"    return;\r",
									"}\r",
									"\r",
									"pm.test(\"–û—Ç–≤–µ—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç FullCommentDto\", function () {\r",
									"    pm.expect(response).to.have.property('id');\r",
									"    pm.expect(response).to.have.property('description');\r",
									"    pm.expect(response).to.have.property('created');\r",
									"    pm.expect(response).to.have.property('state');\r",
									"    pm.expect(response).to.have.property('user');\r",
									"    pm.expect(response).to.have.property('updated');\r",
									"    \r",
									"    pm.expect(response.user).to.have.property('id');\r",
									"    pm.expect(response.user).to.have.property('name');\r",
									"});\r",
									"\r",
									"pm.test(\"ID –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –æ—Å—Ç–∞–ª—Å—è –ø—Ä–µ–∂–Ω–∏–º\", function () {\r",
									"    const commentId = pm.collectionVariables.get('commentId');\r",
									"    pm.expect(response.id.toString()).to.equal(commentId.toString());\r",
									"});\r",
									"\r",
									"pm.test(\"–°—Ç–∞—Ç—É—Å –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ CANCELED\", function () {\r",
									"    const url = new URL(pm.request.url.toString());\r",
									"    const requestedState = url.searchParams.get('state');\r",
									"    \r",
									"    pm.expect(requestedState).to.equal(\"CANCELED\");\r",
									"    pm.expect(response.state).to.equal(\"CANCELED\");\r",
									"});\r",
									"\r",
									"pm.test(\"–ü–æ–ª–µ updated —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ\", function () {\r",
									"    pm.expect(response.updated).to.be.a('string').and.not.be.empty;\r",
									"    \r",
									"    const dateRegex = /^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$/;\r",
									"    pm.expect(response.updated).to.match(dateRegex);\r",
									"    \r",
									"    const createdDate = new Date(response.created.replace(' ', 'T') + 'Z');\r",
									"    const updatedDate = new Date(response.updated.replace(' ', 'T') + 'Z');\r",
									"    pm.expect(updatedDate.getTime()).to.be.at.least(createdDate.getTime());\r",
									"    \r",
									"    console.log(\"‚úÖ –ü–æ–ª–µ updated —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ:\", response.updated);\r",
									"});\r",
									"\r",
									"pm.test(\"–û–ø–∏—Å–∞–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è —Å–æ—Ö—Ä–∞–Ω–∏–ª–æ—Å—å\", function () {\r",
									"    pm.expect(response.description).to.be.a('string');\r",
									"    pm.expect(response.description.length).to.be.at.least(20);\r",
									"});\r",
									"\r",
									"pm.test(\"–ê–≤—Ç–æ—Ä –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è\", function () {\r",
									"    pm.expect(response.user).to.be.an('object');\r",
									"    pm.expect(response.user.id).to.be.a('number').and.to.be.at.least(1);\r",
									"    pm.expect(response.user.name).to.be.a('string').and.not.be.empty;\r",
									"});\r",
									"\r",
									"pm.test(\"–°–æ—Å—Ç–æ—è–Ω–∏–µ –≤–∞–ª–∏–¥–Ω–æ –∏ —Ä–∞–≤–Ω–æ CANCELED\", function () {\r",
									"    const validStates = ['PUBLISHED', 'CANCELED'];\r",
									"    pm.expect(validStates).to.include(response.state);\r",
									"    pm.expect(response.state).to.equal(\"CANCELED\");\r",
									"});\r",
									"\r",
									"pm.test(\"–î–∞—Ç–∞ created –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ\", function () {\r",
									"    const dateRegex = /^\\d{4}-\\d{2}-\\d{2} \\d{2}:\\d{2}:\\d{2}$/;\r",
									"    pm.expect(response.created).to.match(dateRegex);\r",
									"    \r",
									"    const createdDate = new Date(response.created.replace(' ', 'T') + 'Z');\r",
									"    pm.expect(createdDate.toString()).to.not.equal('Invalid Date');\r",
									"});\r",
									"\r",
									"pm.test(\"–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä —É—Å–ø–µ—à–Ω–æ –æ—Ç–º–µ–Ω–∏–ª –æ–ø—É–±–ª–∏–∫–æ–≤–∞–Ω–Ω—ã–π –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π\", function () {\r",
									"    const url = new URL(pm.request.url.toString());\r",
									"    const requestedState = url.searchParams.get('state');\r",
									"    \r",
									"    if (requestedState === \"CANCELED\" && response.state === \"CANCELED\") {\r",
									"        console.log(\"   ‚úì –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π —É—Å–ø–µ—à–Ω–æ –æ—Ç–º–µ–Ω–µ–Ω –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º\");\r",
									"    }\r",
									"});\r",
									"\r",
									"const urlParams = new URL(pm.request.url.toString()).searchParams;\r",
									"urlParams.forEach((value, key) => {\r",
									"    console.log(`  ${key}: ${value}`);\r",
									"});\r",
									"\r",
									"pm.test(\"–ù–µ—Ç –ª–∏—à–Ω–∏—Ö –ø–æ–ª–µ–π –≤–Ω–µ FullCommentDto\", function () {\r",
									"    const allowedFields = ['id', 'description', 'created', 'updated', 'state', 'user'];\r",
									"    const responseFields = Object.keys(response);\r",
									"    \r",
									"    responseFields.forEach(field => {\r",
									"        pm.expect(allowedFields).to.include(field);\r",
									"    });\r",
									"});\r",
									"\r",
									"pm.test(\"–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –æ—Ç–º–µ–Ω–µ–Ω –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º\", function () {\r",
									"    pm.expect(response.state).to.equal(\"CANCELED\");\r",
									"});"
								],
								"type": "text/javascript",
								"packages": {},
								"requests": {}
							}
						}
					],
					"request": {
						"method": "PATCH",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/admin/comments/{{commentId}}?state={state}",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"admin",
								"comments",
								"{{commentId}}"
							],
							"query": [
								{
									"key": "state",
									"value": "{state}"
								}
							]
						},
						"description": "PATCH /admin/comments/{commentId}?state={state} - –∏–∑–º–µ–Ω–µ–Ω–∏–µ —Å—Ç–∞—Ç—É—Å–∞ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è"
					},
					"response": []
				},
				{
					"name": "–£–¥–∞–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"const main = async () => {\r",
									"    const api = new API(pm);\r",
									"    const rnd = new RandomUtils();\r",
									"\r",
									"    try {\r",
									"        const user = await api.addUser(rnd.getUser());\r",
									"        const author = await api.addUser(rnd.getUser());\r",
									"        pm.collectionVariables.set(\"uid\", user.id);\r",
									"\r",
									"        const category = await api.addCategory(rnd.getCategory());\r",
									"        let event = await api.addEvent(author.id, rnd.getEvent(category.id));\r",
									"        event = await api.publishEvent(event.id);\r",
									"        pm.collectionVariables.set(\"eid\", event.id);\r",
									"\r",
									"        const requestToJoin = await api.publishParticipationRequest(event.id, user.id);\r",
									"        const confirmedRequest = await api.acceptParticipationRequest(event.id, author.id, requestToJoin.id);\r",
									"        const comment = await api.addComment(user.id, event.id, rnd.getComment());\r",
									"        pm.collectionVariables.set(\"commentId\", comment.id);\r",
									"\r",
									"    } catch(err) {\r",
									"        console.error(\"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–¥–≥–æ—Ç–æ–≤–∫–µ —Ç–µ—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö.\", err);\r",
									"    }\r",
									"};\r",
									"\r",
									"const interval = setInterval(() => {}, 1000);\r",
									"\r",
									"setTimeout(async () => \r",
									"    {\r",
									"        try {\r",
									"            await main();\r",
									"        } catch (e) {\r",
									"            console.error(e);\r",
									"        } finally {\r",
									"            clearInterval(interval);\r",
									"        }\r",
									"    },  \r",
									"    100 \r",
									");"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test(\"–û—Ç–≤–µ—Ç –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∫–æ–¥ —Å—Ç–∞—Ç—É—Å–∞ 204\", function () {\r",
									"    pm.response.to.have.status(204);\r",
									"    pm.response.to.have.body('');\r",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "DELETE",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/admin/comments/:commentId",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"admin",
								"comments",
								":commentId"
							],
							"variable": [
								{
									"key": "commentId",
									"value": "{{commentId}}"
								}
							]
						},
						"description": "DELETE /admin/comments/{commentId} - —É–¥–∞–ª–µ–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è"
					},
					"response": []
				}
			]
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"requests": {},
				"exec": [
					"// –í–∞—à–∏ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ API –∏ RandomUtils",
					"API = class {",
					"    constructor(postman, verbose = false, baseUrl = \"http://localhost:8080\") {",
					"        this.baseUrl = baseUrl;",
					"        this.pm = postman;",
					"        this._verbose = verbose;",
					"    }",
					"",
					"    async addUser(user, verbose=null) {",
					"        return this.post(\"/admin/users\", user, \"–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è: \", verbose);",
					"    }",
					"",
					"    async addCategory(category, verbose=null) {",
					"        return this.post(\"/admin/categories\", category, \"–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏: \", verbose);",
					"    }",
					"",
					"    async addEvent(userId, event, verbose=null) {",
					"        return this.post(\"/users/\" + userId + \"/events\", event, \"–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ —Å–æ–±—ã—Ç–∏—è: \", verbose);",
					"    }",
					"",
					"    async addCompilation(compilation, verbose=null) {",
					"        return this.post(\"/admin/compilations\", compilation, \"–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–π –ø–æ–¥–±–æ—Ä–∫–∏: \", verbose);",
					"    }",
					"",
					"    async publishParticipationRequest(eventId, userId, verbose=null) {",
					"        return this.post('/users/' + userId + '/requests?eventId=' + eventId, null, \"–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞ –Ω–∞ —É—á–∞—Å—Ç–∏–µ –≤ —Å–æ–±—ã—Ç–∏–∏\", verbose);",
					"    }",
					"",
					"    async publishEvent(eventId, verbose=null) {",
					"        return this.patch('/admin/events/' + eventId, {stateAction: \"PUBLISH_EVENT\"}, \"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Å–æ–±—ã—Ç–∏—è\", verbose);",
					"    }",
					"    ",
					"    async rejectEvent(eventId, verbose=null) {",
					"        return this.patch('/admin/events/' + eventId, {stateAction: \"REJECT_EVENT\"}, \"–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ—Ç–º–µ–Ω–µ —Å–æ–±—ã—Ç–∏—è\", verbose);",
					"    }",
					"",
					"    async acceptParticipationRequest(eventId, userId, reqId, verbose=null) {",
					"        return this.patch('/users/' + userId + '/events/' + eventId + '/requests', {requestIds:[reqId], status: \"CONFIRMED\"}, \"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø—Ä–∏–Ω—è—Ç–∏–∏ –∑–∞—è–≤–∫–∏ –Ω–∞ —É—á–∞—Å—Ç–∏–µ –≤ —Å–æ–±—ã—Ç–∏–∏\", verbose);",
					"    }",
					"",
					"    async findCategory(catId, verbose=null) {",
					"        return this.get('/categories/' + catId, null, \"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø–æ id\", verbose);",
					"    }",
					"",
					"    async findCompilation(compId, verbose=null) {",
					"        return this.get('/compilations/' + compId, null, \"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ –ø–æ–¥–±–æ—Ä–∫–∏ –ø–æ id\", verbose);",
					"    }",
					"",
					"    async findEvent(eventId, verbose=null) {",
					"        return this.get('/events/' + eventId, null, \"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ —Å–æ–±—ã—Ç–∏—è –ø–æ id\", verbose);",
					"    }",
					"",
					"    async findUser(userId, verbose=null) {",
					"        return this.get('/admin/users?ids=' + userId, null, \"–û—à–∏–±–∫–∞ –ø—Ä–∏ –ø–æ–∏—Å–∫–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ id\", verbose);",
					"    }",
					"",
					"    async addComment(userId, eventId, comment, verbose = null) {",
					"        return this.post(`/users/${userId}/comments?eventId=${eventId}`, ",
					"            comment, ",
					"            \"–û—à–∏–±–∫–∞ –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è: \", ",
					"            verbose",
					"        );",
					"    }",
					"",
					"    async updateComment(userId, commentId, comment, verbose = null) {",
					"        return this.patch(`/users/${userId}/comments/${commentId}`, ",
					"            comment, ",
					"            \"–û—à–∏–±–∫–∞ –ø—Ä–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏—è: \", ",
					"            verbose",
					"        );",
					"    }",
					"",
					"    async post(path, body, errorText = \"–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ post-–∑–∞–ø—Ä–æ—Å–∞: \", verbose=null) {",
					"        return this.sendRequest(\"POST\", path, body, errorText, verbose);",
					"    }",
					"",
					"    async patch(path, body = null, errorText = \"–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ patch-–∑–∞–ø—Ä–æ—Å–∞: \", verbose=null) {",
					"        return this.sendRequest(\"PATCH\", path, body, errorText, verbose);",
					"    }",
					"",
					"    async get(path, body = null, errorText = \"–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ get-–∑–∞–ø—Ä–æ—Å–∞: \", verbose=null) {",
					"        return this.sendRequest(\"GET\", path, body, errorText, verbose);",
					"    }",
					"    async sendRequest(method, path, body=null, errorText = \"–û—à–∏–±–∫–∞ –ø—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–∞: \", verbose=null) {",
					"        return new Promise((resolve, reject) => {",
					"            verbose = verbose == null ? this._verbose : verbose;",
					"            const request = {",
					"                url: this.baseUrl + path,",
					"                method: method,",
					"                body: body == null ? \"\" : JSON.stringify(body),",
					"                header: { \"Content-Type\": \"application/json\" },",
					"            };",
					"            if(verbose) {",
					"                console.log(\"–û—Ç–ø—Ä–∞–≤–ª—è—é –∑–∞–ø—Ä–æ—Å: \", request);",
					"            }",
					"",
					"            try {",
					"                this.pm.sendRequest(request, (error, response) => {",
					"                    if(error || (response.code >= 400 && response.code <= 599)) {",
					"                        let err = error ? error : JSON.stringify(response.json());",
					"                        console.error(\"–ü—Ä–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–∏ –∑–∞–ø—Ä–æ—Å–∞ –∫ —Å–µ—Ä–≤–µ—Ä—É –≤–æ–∑–Ω–∏–∫–ª–∞ –æ—à–∏–∫–∞.\\n\", err,",
					"                             \"\\n–î–ª—è –æ—Ç–ª–∞–¥–∫–∏ –ø—Ä–æ–±–ª–µ–º—ã –ø–æ–≤—Ç–æ—Ä–∏—Ç–µ —Ç–∞–∫–æ–π –∂–µ –∑–∞–ø—Ä–æ—Å –∫ –≤–∞—à–µ–π –ø—Ä–æ–≥—Ä–∞–º–º–µ \" + ",
					"                             \"–Ω–∞ –ª–æ–∫–∞–ª—å–Ω–æ–º –∫–æ–º–ø—å—é—Ç–µ—Ä–µ. –î–∞–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å–∞:\\n\", JSON.stringify(request));",
					"",
					"                        reject(new Error(errorText + err));",
					"                    }",
					"                    if(verbose) {",
					"                        console.log(\"–†–µ–∑—É–ª—å—Ç–∞—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∑–∞–ø—Ä–æ—Å–∞: –∫–æ–¥ —Å–æ—Å—Ç–æ—è–Ω–∏—è - \", response.code, \", —Ç–µ–ª–æ: \", response.json());",
					"                    }",
					"                    if (response.stream.length === 0){",
					"                        reject(new Error('–û—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –ø—É—Å—Ç–æ–µ —Ç–µ–ª–æ –æ—Ç–≤–µ—Ç–∞'))",
					"                    }else{",
					"                        resolve(response.json());",
					"                    }",
					"                });",
					"                ",
					"            } catch(err) {",
					"                if(verbose) {",
					"                    console.error(errorText, err);",
					"                }",
					"                return Promise.reject(err);",
					"            }",
					"        });",
					"    }",
					"};",
					"",
					"RandomUtils = class {",
					"    constructor() {}",
					"",
					"    getUser() {",
					"        return {",
					"            name: pm.variables.replaceIn('{{$randomFullName}}'),",
					"            email: pm.variables.replaceIn('{{$randomEmail}}')",
					"        };",
					"    }",
					"",
					"    getComment() {",
					"        return {",
					"            text: pm.variables.replaceIn('{{$randomWord}}')",
					"        };",
					"    }",
					"",
					"    getCategory() {",
					"        return {",
					"            name: pm.variables.replaceIn('{{$randomWord}}') + Math.floor(Math.random() * 10000 * Math.random()).toString()",
					"        };",
					"    }",
					"",
					"    getEvent(categoryId) {",
					"        return {",
					"            annotation: pm.variables.replaceIn('{{$randomLoremParagraph}}'),",
					"            category: categoryId,",
					"            description: pm.variables.replaceIn('{{$randomLoremParagraphs}}'),",
					"            eventDate: this.getFutureDateTime(),",
					"            location: {",
					"                lat: parseFloat(pm.variables.replaceIn('{{$randomLatitude}}')),",
					"                lon: parseFloat(pm.variables.replaceIn('{{$randomLongitude}}')),",
					"            },",
					"            paid: pm.variables.replaceIn('{{$randomBoolean}}'),",
					"            participantLimit: pm.variables.replaceIn('{{$randomInt}}'),",
					"            requestModeration: pm.variables.replaceIn('{{$randomBoolean}}'),",
					"            title: pm.variables.replaceIn('{{$randomLoremSentence}}'),",
					"        }",
					"    }",
					"",
					"    getCompilation(...eventIds) {",
					"        return {",
					"            title: pm.variables.replaceIn('{{$randomLoremSentence}}').slice(0, 50),",
					"            pinned: pm.variables.replaceIn('{{$randomBoolean}}'),",
					"            events: eventIds",
					"        };",
					"    }",
					"",
					"",
					"    getFutureDateTime(hourShift = 5, minuteShift=0, yearShift=0) {",
					"        let moment = require('moment');",
					"",
					"        let m = moment();",
					"        m.add(hourShift, 'hour');",
					"        m.add(minuteShift, 'minute');",
					"        m.add(yearShift, 'year');",
					"",
					"        return m.format('YYYY-MM-DD HH:mm:ss');",
					"    }",
					"",
					"    getWord(length = 1) {",
					"        let result = '';",
					"        const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';",
					"        const charactersLength = characters.length;",
					"        let counter = 0;",
					"        while (counter < length) {",
					"            result += characters.charAt(Math.floor(Math.random() * charactersLength));",
					"            counter += 1;",
					"        }",
					"        return result;",
					"    }",
					"",
					"    getCommentStatusAction() {",
					"        const actions = [\"PUBLISH_COMMENT\", \"REJECT_COMMENT\"];",
					"        return actions[Math.floor(Math.random() * actions.length)];",
					"    }",
					"}"
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"packages": {},
				"requests": {},
				"exec": [
					""
				]
			}
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:8080"
		},
		{
			"key": "uid",
			"value": 1
		},
		{
			"key": "eid",
			"value": 1
		},
		{
			"key": "commentId",
			"value": 1
		},
		{
			"key": "pubEventId",
			"value": ""
		},
		{
			"key": "publicCommentId",
			"value": ""
		},
		{
			"key": "pubCommentId",
			"value": ""
		},
		{
			"key": "expectedState",
			"value": ""
		},
		{
			"key": "originalState",
			"value": ""
		}
	]
}